{"ast":null,"code":"\"use strict\"; // https://w3c.github.io/html-aria/#document-conformance-requirements-for-use-of-aria-attributes-in-html\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction getRole(element) {\n  const explicitRole = getExplicitRole(element);\n\n  if (explicitRole !== null) {\n    return explicitRole;\n  }\n\n  return getImplicitRole(element);\n}\n\nexports.default = getRole;\nconst tagToRoleMappings = {\n  ARTICLE: \"article\",\n  ASIDE: \"complementary\",\n  BODY: \"document\",\n  BUTTON: \"button\",\n  DATALIST: \"listbox\",\n  DD: \"definition\",\n  DETAILS: \"group\",\n  DIALOG: \"dialog\",\n  DT: \"term\",\n  FIELDSET: \"group\",\n  FIGURE: \"figure\",\n  // WARNING: Only with an accessible name\n  FORM: \"form\",\n  FOOTER: \"contentinfo\",\n  H1: \"heading\",\n  H2: \"heading\",\n  H3: \"heading\",\n  H4: \"heading\",\n  H5: \"heading\",\n  H6: \"heading\",\n  HEADER: \"banner\",\n  HR: \"separator\",\n  LEGEND: \"legend\",\n  LI: \"listitem\",\n  MATH: \"math\",\n  MAIN: \"main\",\n  MENU: \"list\",\n  NAV: \"navigation\",\n  OL: \"list\",\n  OPTGROUP: \"group\",\n  // WARNING: Only in certain context\n  OPTION: \"option\",\n  OUTPUT: \"status\",\n  PROGRESS: \"progressbar\",\n  // WARNING: Only with an accessible name\n  SECTION: \"region\",\n  SUMMARY: \"button\",\n  TABLE: \"table\",\n  TBODY: \"rowgroup\",\n  TEXTAREA: \"textbox\",\n  TFOOT: \"rowgroup\",\n  // WARNING: Only in certain context\n  TD: \"cell\",\n  TH: \"columnheader\",\n  THEAD: \"rowgroup\",\n  TR: \"row\",\n  UL: \"list\"\n};\n\nfunction getImplicitRole(element) {\n  const mappedByTag = tagToRoleMappings[element.tagName];\n\n  if (mappedByTag !== undefined) {\n    return mappedByTag;\n  }\n\n  switch (element.tagName) {\n    case \"A\":\n    case \"AREA\":\n    case \"LINK\":\n      if (element.hasAttribute(\"href\")) {\n        return \"link\";\n      }\n\n      break;\n\n    case \"IMG\":\n      if ((element.getAttribute(\"alt\") || \"\").length > 0) {\n        return \"img\";\n      }\n\n      break;\n\n    case \"INPUT\":\n      {\n        const {\n          type\n        } = element;\n\n        switch (type) {\n          case \"button\":\n          case \"image\":\n          case \"reset\":\n          case \"submit\":\n            return \"button\";\n\n          case \"checkbox\":\n          case \"radio\":\n            return type;\n\n          case \"range\":\n            return \"slider\";\n\n          case \"email\":\n          case \"tel\":\n          case \"text\":\n          case \"url\":\n            if (element.hasAttribute(\"list\")) {\n              return \"combobox\";\n            }\n\n            return \"textbox\";\n\n          case \"search\":\n            if (element.hasAttribute(\"list\")) {\n              return \"combobox\";\n            }\n\n            return \"searchbox\";\n\n          default:\n            return null;\n        }\n      }\n\n    case \"SELECT\":\n      if (element.hasAttribute(\"multiple\") || element.size > 1) {\n        return \"listbox\";\n      }\n\n      return \"combobox\";\n  }\n\n  return null;\n}\n\nfunction getExplicitRole(element) {\n  if (element.hasAttribute(\"role\")) {\n    // safe due to hasAttribute check\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    const [explicitRole] = element.getAttribute(\"role\").trim().split(\" \");\n\n    if (explicitRole !== undefined && explicitRole.length > 0) {\n      return explicitRole;\n    }\n  }\n\n  return null;\n}","map":{"version":3,"sources":["../sources/getRole.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\n// https://w3c.github.io/html-aria/#document-conformance-requirements-for-use-of-aria-attributes-in-html\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction getRole(element) {\n    const explicitRole = getExplicitRole(element);\n    if (explicitRole !== null) {\n        return explicitRole;\n    }\n    return getImplicitRole(element);\n}\nexports.default = getRole;\nconst tagToRoleMappings = {\n    ARTICLE: \"article\",\n    ASIDE: \"complementary\",\n    BODY: \"document\",\n    BUTTON: \"button\",\n    DATALIST: \"listbox\",\n    DD: \"definition\",\n    DETAILS: \"group\",\n    DIALOG: \"dialog\",\n    DT: \"term\",\n    FIELDSET: \"group\",\n    FIGURE: \"figure\",\n    // WARNING: Only with an accessible name\n    FORM: \"form\",\n    FOOTER: \"contentinfo\",\n    H1: \"heading\",\n    H2: \"heading\",\n    H3: \"heading\",\n    H4: \"heading\",\n    H5: \"heading\",\n    H6: \"heading\",\n    HEADER: \"banner\",\n    HR: \"separator\",\n    LEGEND: \"legend\",\n    LI: \"listitem\",\n    MATH: \"math\",\n    MAIN: \"main\",\n    MENU: \"list\",\n    NAV: \"navigation\",\n    OL: \"list\",\n    OPTGROUP: \"group\",\n    // WARNING: Only in certain context\n    OPTION: \"option\",\n    OUTPUT: \"status\",\n    PROGRESS: \"progressbar\",\n    // WARNING: Only with an accessible name\n    SECTION: \"region\",\n    SUMMARY: \"button\",\n    TABLE: \"table\",\n    TBODY: \"rowgroup\",\n    TEXTAREA: \"textbox\",\n    TFOOT: \"rowgroup\",\n    // WARNING: Only in certain context\n    TD: \"cell\",\n    TH: \"columnheader\",\n    THEAD: \"rowgroup\",\n    TR: \"row\",\n    UL: \"list\"\n};\nfunction getImplicitRole(element) {\n    const mappedByTag = tagToRoleMappings[element.tagName];\n    if (mappedByTag !== undefined) {\n        return mappedByTag;\n    }\n    switch (element.tagName) {\n        case \"A\":\n        case \"AREA\":\n        case \"LINK\":\n            if (element.hasAttribute(\"href\")) {\n                return \"link\";\n            }\n            break;\n        case \"IMG\":\n            if ((element.getAttribute(\"alt\") || \"\").length > 0) {\n                return \"img\";\n            }\n            break;\n        case \"INPUT\": {\n            const { type } = element;\n            switch (type) {\n                case \"button\":\n                case \"image\":\n                case \"reset\":\n                case \"submit\":\n                    return \"button\";\n                case \"checkbox\":\n                case \"radio\":\n                    return type;\n                case \"range\":\n                    return \"slider\";\n                case \"email\":\n                case \"tel\":\n                case \"text\":\n                case \"url\":\n                    if (element.hasAttribute(\"list\")) {\n                        return \"combobox\";\n                    }\n                    return \"textbox\";\n                case \"search\":\n                    if (element.hasAttribute(\"list\")) {\n                        return \"combobox\";\n                    }\n                    return \"searchbox\";\n                default:\n                    return null;\n            }\n        }\n        case \"SELECT\":\n            if (element.hasAttribute(\"multiple\") ||\n                element.size > 1) {\n                return \"listbox\";\n            }\n            return \"combobox\";\n    }\n    return null;\n}\nfunction getExplicitRole(element) {\n    if (element.hasAttribute(\"role\")) {\n        // safe due to hasAttribute check\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        const [explicitRole] = element\n            .getAttribute(\"role\")\n            .trim()\n            .split(\" \");\n        if (explicitRole !== undefined && explicitRole.length > 0) {\n            return explicitRole;\n        }\n    }\n    return null;\n}\n//# sourceMappingURL=getRole.js.map"]},"metadata":{},"sourceType":"script"}